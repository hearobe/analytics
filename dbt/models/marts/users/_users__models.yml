version: 2

models: 
  - name: dim_user_course_activity
    columns:
    - name: course_name
    - name: first_activity_at
    - name: user_id
    - name: school_year

  - name: dim_course_structure
    columns:
    - name: level_id
    - name: script_id
    - name: course_name

  - name: dim_users
    columns:
    - name: user_id
      description: UID for each user
      data_tests: 
        - not_null

    - name: user_type
      description: student or teacher if NULL = fail
          # - accepted_values:
          #     values: ['teacher','student']
      data_tests: 
          - not_null

    - name: us_state
      description: user entered value extracted from json. values must be within contig. US else null 

    - name: student_id 
      description: UID for each student
    
    - name: teacher_id 
      description: UID for each teacher

    - name: races
      description: raw value for race 
      tags: 
        - contains_pii

    - name: race_group
      description: race categorization column
      tags: 
        - contains_pii
    
    - name: gender 
      description: raw value for gender
      tags: 
        - contains_pii
    
    - name: gender_group
      description: gender categorization column
      tags: 
        - contains_pii

    - name: cap_status
      description: child account policy tag; only relevant for students (options are 'grace period', 'locked_out', 'permission_granted')
        
    - name: cap_status_date
      description: child account policy tag; 
